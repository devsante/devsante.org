function search_func(t){""!==t.state.query&&(search_mode("on"),t.search())}function search_mode(t){var e=document.getElementById("search-hits"),i=document.getElementsByTagName("body")[0],a=document.querySelectorAll("#search .search-cancel")[0],n="search";"on"==t?(i.classList.contains(n)||i.classList.add(n),e.style.display="",a.style.display="block"):(i.classList.contains(n)&&i.classList.remove(n),e.style.display="none",a.style.display="none")}function clear_search(t){t.preventDefault();var e=document.querySelectorAll("#search .ais-search-box--input")[0];e.value="",search_mode("off")}function get_locale_date_string_fallback(t){if("undefined"!=typeof t){var e=new Date(t);if(date_string=e.toLocaleDateString(),!date_string){var i=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();date_string=i+"/"+a+"/"+n}}else date_string="";return date_string}"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,a=arguments.length;for(i=0;i<a;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",i="prototype",a=t.Element[i],n=Object,s=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new c("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},o=function(t){for(var e=s.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],a=0,n=i.length;a<n;a++)this.push(i[a]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},h=o[i]=[],d=function(){return new o(this)};if(c[i]=Error[i],h.item=function(t){return this[t]||null},h.contains=function(t){return t+="",l(this,t)!==-1},h.add=function(){var t,e=arguments,i=0,a=e.length,n=!1;do t=e[i]+"",l(this,t)===-1&&(this.push(t),n=!0);while(++i<a);n&&this._updateClassName()},h.remove=function(){var t,e,i=arguments,a=0,n=i.length,s=!1;do for(t=i[a]+"",e=l(this,t);e!==-1;)this.splice(e,1),s=!0,e=l(this,t);while(++a<n);s&&this._updateClassName()},h.toggle=function(t,e){t+="";var i=this.contains(t),a=i?e!==!0&&"remove":e!==!1&&"add";return a&&this[a](t),e===!0||e===!1?e:!i},h.toString=function(){return this.join(" ")},n.defineProperty){var u={get:d,enumerable:!0,configurable:!0};try{n.defineProperty(a,e,u)}catch(t){t.number===-2146823252&&(u.enumerable=!1,n.defineProperty(a,e,u))}}else n[i].__defineGetter__&&a.__defineGetter__(e,d)}}(self));var search=instantsearch({appId:algolia_appId,apiKey:algolia_apiKey,indexName:algolia_indexName,urlSync:!0,searchFunction:search_func,searchParameters:{distinct:2}});search.addWidget(instantsearch.widgets.searchBox({container:"#search .search-input",placeholder:"votre recherche"})),search.addWidget(instantsearch.widgets.hits({container:"#search-hits .content",transformData:{item:function(t){return t.datetime=get_locale_date_string_fallback(1e3*t.datetime),0!==t._distinctSeqID&&(delete t._highlightResult.title,delete t.author,delete t.datetime),t}},templates:{item:'<article>{{#_highlightResult.title}}<h1><a href="/{{_id}}">{{{_highlightResult.title.value}}}</a></h1>{{/_highlightResult.title}}{{#datetime}}<div class="date">{{datetime}}</div>{{/datetime}}{{#author}}<div class="author">{{author}}</div>{{/author}}{{#_highlightResult._heading.value}}<div class="heading"><a href="/{{_id}}">{{{_highlightResult._heading.value}}}</a></div>{{/_highlightResult._heading.value}}{{#_snippetResult._content.value}}<div class="text"><a href="/{{_id}}">[...] {{{_snippetResult._content.value}}} [...] </a></div>{{/_snippetResult._content.value}}</article>',empty:"Votre recherche n' a retourné aucun résultat"},hitsPerPage:5})),search.addWidget(instantsearch.widgets.pagination({container:"#search-pagination",maxPages:20,showFirstLast:!1,padding:2})),search.start();