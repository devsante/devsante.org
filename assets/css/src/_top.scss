$header_vertical_spacing: 1rem;

$header_menu_height: 2.5rem;

$header_logo_height_smartphone: 1.2rem;
$header_logo_height_tablet_desktop: 2.8rem;

$header_baseline_height: 1.7rem;
$header_baseline_margin_bottom_smartphone: 1.2rem;
$header_baseline_margin_bottom_tablet_desktop: 2rem;

$header_height_smartphone: $header_logo_height_smartphone + 7/4 * $header_vertical_spacing; // cf. vertical margins for .logo
$header_height_tablet_desktop: $header_menu_height + $header_logo_height_tablet_desktop + 3.5 * $header_vertical_spacing; // cf. vertical margins for .logo
$header_height_home_smartphone: $header_height_smartphone + $header_baseline_height + $header_baseline_margin_bottom_smartphone;
$header_height_home_tablet_desktop: $header_height_tablet_desktop + $header_baseline_height + $header_baseline_margin_bottom_tablet_desktop;

$search_box_height: $header_menu_height;

$top_height_smartphone: $header_height_smartphone + $search_box_height + 0.0625rem; // 0.0625 = 1 px @ 1rem = 16px, added because of rounding issues
$top_height_tablet_desktop: $header_height_tablet_desktop + $search_box_height + 0.0625rem; // 0.0625 = 1 px @ 1rem = 16px, added because of rounding issues
$top_height_home_smartphone: $header_height_home_smartphone + $search_box_height + 0.0625rem; // 0.0625 = 1 px @ 1rem = 16px, added because of rounding issues
$top_height_home_tablet_desktop: $header_height_home_tablet_desktop + $search_box_height + 0.0625rem; // 0.0625 = 1 px @ 1rem = 16px, added because of rounding issues


@import "../../../site/patterns/menu-icon/menu-icon";
@import "../../../site/patterns/menu/menu";
@import "search";

body, html {
  .navigation-open {
    overflow: hidden;
    // Fix iOS
    // position: fixed; // causes page to scroll back up
  }
}

.header-search {
  position: fixed;
  top: 0;
  width: 100%;
  transition: 0.4s;

  &.headroom--unpinned {
    transform: translate3d(0, - $top_height_smartphone, 0);
    @include breakpoint ($tablet) {
      transform: translate3d(0, - $header_menu_height, 0);
    }
  }
}

body.home .header-search.headroom--unpinned {
  transform: translate3d(0, - $top_height_home_smartphone, 0);
  @include breakpoint ($tablet) {
    transform: translate3d(0, - $header_menu_height, 0);
  }
}

header {

  color: #ffffff;
  background-color: $dark_blue;
  overflow: hidden; //prevent collapsing margin between child and parent

  .logo {
    margin: $header_vertical_spacing * 3/4 0 $header_vertical_spacing;
    height: $header_logo_height_smartphone;

    @include breakpoint (max-width 359px) {
      margin-left: $container_padding;
    }

    @include breakpoint($tablet) {
      margin: $header_vertical_spacing * 1.5 0 $header_vertical_spacing * 2;
      height: $header_logo_height_tablet_desktop;
      text-align: center;
    }

    a, img {
      @include breakpoint(360px) {
        display: block;
        margin: 0 auto;
      }
      height: inherit;
    }
  }
}

@include breakpoint($tablet) {
  body.home header .logo {
    margin: $header_vertical_spacing * 2 0 $header_vertical_spacing * 1.5;
  }
}

#baseline {
  height: $header_baseline_height;
  margin: 0 auto;
  margin-bottom: $header_baseline_margin_bottom_smartphone;
  text-transform: uppercase;
  text-align: center;
  font-size: 0.7rem;

  @include breakpoint($tablet) {
    font-size: 1.1rem;
    margin-bottom: $header_baseline_margin_bottom_tablet_desktop;

    br {
      display: none;
    }
  }
}
